<main>
    <section id="cartel-big"><p>COCHERAS NATION</p></section>
    <section id="contenedor-forms">
        @if (isLogin) {
            <div [@loginRegister] class="loginRegisterContainer">
                <h1>Iniciar sesión</h1>
                <form id="login-form" #loginForm="ngForm" (ngSubmit)="login(loginForm)">
                    <input type="text" placeholder="Username" name="username" ngModel required>
                    <input type="password" placeholder="Contraseña" name="password" ngModel required>
    
                    <div class="buttons">
                        <button type="submit">Iniciar sesión</button>
                        <button type="button" (click)="toggleIsLogin()">Registrarse</button>
                    </div>
                </form>
                @if (errorLogin) {
                    <p class="alert">Error de Logeo</p>
                }
                @if (uncompletedForm) {
                    <p class="alert">Debe rellenar todos los campos</p>
                }
            </div>
        } @else {
            <div [@loginRegister] class="loginRegisterContainer">
                <h1>Registrarse</h1>
                <form id="register-form" #registerForm="ngForm" (ngSubmit)="register(registerForm)">
                    <input type="text" placeholder="Nombre de usuario" name="username" ngModel required>
                    <div id="name">
                        <input type="text" placeholder="Nombre" name="firstname" ngModel required>
                        <input type="text" placeholder="Apellido" name="surname" ngModel required>
                    </div>
                    <input type="password" placeholder="Contraseña" name="password" ngModel required>
                    <input type="password" placeholder="Repetir contraseña" name="repeatPassword" ngModel required>
    
                    <div class="buttons">
                        <button type="button" (click)="toggleIsLogin()">Iniciar sesión</button>
                        <button type="submit">Registrarse</button>
                    </div>
                </form>
                @if (alreadyExists) {
                    <p class="alert">El usuario ya existe</p>
                }
                @else if (unmatchedPasswords) {
                    <p class="alert">Las contraseñas no coinciden</p>
                }
                @else if (uncompletedForm) {
                    <p class="alert">Complete todos los campos</p>
                }
            </div>
        }
    </section>
</main>